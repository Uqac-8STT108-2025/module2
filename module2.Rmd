---
title: " Module2 \n "
author: " 1. Wilson FOTSING   \n  

          2. Wilfried Armel N'GUESSAN   \n   
          
          3. Vamoussa DIABATE   \n  
          
          4.  Laurent Fabrice NGWE   \n
          
          5. Iantsa Marie-Anne RANDRIANARIVONY \n \n "  
          
date: " **date** : `r Sys.Date()` 
"
output: html_document
---

```{r libairies, include=FALSE}
#install.packages("skimr")
library(tidyverse)
library(knitr)
```


## Statistiques descriptives

### Exercice 1

calculons la moyenne et variance, que remarquez-vous? Pourquoi?

On remarque que les valeurs de la moyenne et de la variance calculées sur un échantillon ne sont pas égales aux valeurs théoriques (moyenne=0 et variance=1).

pour n=100, Ces résultats s'écartent de ceux attendus à cause du biais d'échantillonage.

```{r serie_norm}
x <- rnorm(100)

#Calculons la moyenne

mean(x)

#Calculons la variance

var(x)
```


Augmenter le nombre d’observation dans la fonction rnorm() qui génère des données d’une loi normale, que se passe t-il?

En augmentant le nombre d'observation a n=10000 nous remarquons que les résultats sont très proches des valeurs théoriques(moyenne=0 et variance=1).

```{r augmentation_taille}
y <- rnorm(10000)

#Calcul de la moyenne

mean(y)

#Calcul de la variance

var(y)
```

### Exercice 2

Construire une fonction qui permet de représenter la distribution d’une série de données.

Application de la fonction à une colonne de iris

```{r}
library(ggplot2)

Ma_fonction <- function(data, variable,color = "black"){
ggplot(data, aes_string(x = variable)) +
    geom_histogram(color = color) +
    labs(title = paste("Mon histogramme de distribution", variable),x = variable,y = "nombre d'observations"
    )
}

#application sur iris

Ma_fonction(iris, "Sepal.Width",color = "yellow")
```



### Exercice 3
cor(x,y)=0,1881861
Cette valeur exprime une faible corrélation linéaire entre x et y


```{r correlation_lineaire}
x <- rnorm(100)

y <- x * x

#Calcul de la corrélation

correlation <- cor(x, y)
cor(x, y)
```


### Exercice 4


```{r dataset}
vehicule <- read.csv("Dataset 1.csv")
head(vehicule)
```
```{r colonnes}
glimpse(vehicule)
cat("\n nbre valeurs manquantes : " , sum(is.na(vehicule)))
```


### Exercice 5

```{r fonction_skim}
library(skimr)
skim(vehicule)%>%
  kable()
```

## Détection de bruit et données abbérantes

### Exercice 1

```{r outliers}
outliers <- function(dataset) {
  # On enleve  les valeurs manquantes pour éviter des erreurs
  data <- na.omit(dataset)

  Q1 <- quantile(data, 0.25)
  Q3 <- quantile(data, 0.75)
  IQR <- Q3-Q1
  
  # Calcul des bornes
  borne_inf <- Q1 - 1.5 * IQR
  borne_sup <- Q3 + 1.5 * IQR
  
  # Identification des outliers
  outliers <- data[data < borne_inf | data > borne_sup]
  
  print(outliers)
}

# Test avec la variable x
x <- c(-5, rnorm(100), 6)
valeurs_extremes <- outliers(x)
cat("valeurs extremes :" , valeurs_extremes)

```


### Exercice 2 




## Visualisation

### Exercice 1
  On obtient un graphique vide en mentionnant que le jeu de donnée mpg.
  Il y a 234 observations et 11 colonnes dans la base de donnée mpg.
  La variable 'drv' représente le type de transmission où f représente la traction avant et r la traction arrière.
  Le nuage de points entre la variable 'class' et la variable 'drv' est inutile car il n'y a pas de relation entre ces deux variables.
```{r visualisation-mpg}

#Chargement de la librairie ggplot2
library(ggplot2)

#Exécution de la commande ggplot
ggplot(data=mpg)  

#Pour savoir le nombre de lignes et de colonnes
nrow(mpg)
ncol(mpg)


#Création d'un nuage de points entre la variable 'hwy' et la variable 'cyl'
hwy_cyl<-ggplot(mpg,aes(x=hwy,y=cyl))+
  geom_point() +
  labs(title='Relation entre les kilomètres de routes et le nombre de cylindre ')+
  xlab('Les kilomètres de routes par gallon')+
  ylab('Le nombre de cylindre')
hwy_cyl

#Création d 'un nuage de points entre la variable 'class' et la variable 'drv' 
class_drv<-ggplot(mpg,aes(x=class,y=drv))+
  geom_point()+
  labs(title='Relation entre les classes et le type de transmission')+
  xlab('Les types de voiture(class)')+
  ylab('Le type de transmission(drv)')
class_drv
```



### Exercice 2
Quand on met la couleur dans l'esthétique, R le considère comme une variable dans les données, donc pour obtenir la couleur bleue il faut le mettre en dehors de l'esthétique.
Les variables catégoriques sont: manufacturer, model,trans,fl et class puis les variables continues sont: displ,year,cyl,drv,cty et hwy.
On peut voir ces informations en exécutant View(mpg).

En mappant la même variable à plusieurs esthétiques, le graphique sera difficile à interpréter.

L'esthétique du trait (stroke) sert à modifier la largeur de la bordure des points pour un nuage de points.

En associant l'esthétique à une condition, on obtient une visualisation qui montre les variables qui respectent cette condition (true) et celles qui ne respectent pas cette condition(false).

```{r exo2-visualisation}
ggplot(data=mpg)+
  geom_point(mapping=aes(x=displ,y=hwy),color="blue")

#Mappez une même variable à plusieurs esthétiques
ggplot(data=mpg)+
  geom_point(mapping=aes(x=displ,y=hwy,color=year,alpha=year))

#Associer une esthétique avec autre chose qu'un nom de variable
ggplot(data=mpg)+
  geom_point(mapping=aes(x=displ,y=hwy,color=displ<5))
```
### Exercice 3




